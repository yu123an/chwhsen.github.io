<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="chwhsen" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
    <title>使用bypy同步文件到百度云</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="第七间夜店" type="application/atom+xml" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/media/css/style.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/retina.js/1.3.0/retina.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script type="text/javascript"> hljs.initHighlightingOnLoad(); </script>

     <link rel="stylesheet" href="/media/css/github.css">
     <script src="/media/js/jquery-1.7.1.min.js" type="text/javascript" charset="utf-8"></script> 
    <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
   
  </head>
  <body>
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="第七间夜店" class="" href="/">第七间夜店</a></h1>
          </div>
          <nav>
            
            <span><a title="归档" href="/archive.html"><i class="fa fa-list-ul"></i></a></span>
            
            <span><a title="标签" href="/tags.html"><i class="fa fa-tags"></i></a></span>
            
            <span><a title="Stop" href="/about.html"><i class="fa fa-user"></i></a></span>
            
            <span><a title="Download" href="ftp://ftpadmin:ftpadmin@www.chwhsen.xyz:909"><i class="fa fa-save"></i></a></span>
            
          </nav>
        </header>
        <div id="content">
        <article>
  <section class="title">
    <h2>使用bypy同步文件到百度云 </h2>
  </section>
  <section class="meta">
  <span class="time">
    <time datetime="2018-11-21">2018-11-21</time>
  </span>
  
  <span class="tags">
    
    <a href="/tags.html#linux" title="linux">#linux</a>
    
  </span>
  
  </section>
  <section class="post">
  <p><code class="highlighter-rouge">bypy</code>是一个在<code class="highlighter-rouge">linux</code>环境下的百度网盘<code class="highlighter-rouge">python</code>客户端，可以通过命令行的方式在<code class="highlighter-rouge">linux</code>与百度网盘之间进行文件同步，由于百度权限限制，程序只能存取百度云端<code class="highlighter-rouge">/apps/bypy</code>目录下面的文件和目录。可以做到</p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />查看文件列表</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />上传文件</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />下载文件</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />比较文件列表</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />向上同步</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />向下同步</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />……</li>
</ul>

<p>安装</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt <span class="nb">install </span>python-pip
pip <span class="nb">install </span>bypy
</code></pre></div></div>

<p>授权</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bypy info
</code></pre></div></div>

<p>这是会给你一个网址，在浏览器中打开，并输入返回的密钥串</p>

<p><img src="https://samzong.oss-cn-shenzhen.aliyuncs.com/blog/2grhz.png" alt="" /></p>

<p>稍等片刻，当出现<code class="highlighter-rouge">Successfully authorized</code>即代表授权成功</p>

<p>常用命令
查看云端文件列表，即<code class="highlighter-rouge">/apps/bypy</code>目录下的文件列表</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bypy list
/apps/bypy ($t $f $s $m $d):
F 2018-11-20.zip 7408724 2018-11-20, 16:08:59 a96661431a2abd496656cf155d8b2225
</code></pre></div></div>

<p>上传文件，<code class="highlighter-rouge">&lt;file&gt;</code>为空时上传所在目录下的所有文件</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bypy upload &lt;file&gt;
</code></pre></div></div>
<p>比较本地文件与云端文件</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bypy</span> <span class="n">compare</span> <span class="o">&lt;</span><span class="n">file1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">file2</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>添加定时任务</p>

<p>首先查看<code class="highlighter-rouge">bypy</code>路径，</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~#:whereis bypy
bypy: /usr/local/bin/bypy
</code></pre></div></div>

<p>然后在<code class="highlighter-rouge">crontab</code>文件添加</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> <span class="k">*</span> /usr/local/bin/bypy upload &lt;file&gt; <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
</code></pre></div></div>

<p>即可实现定时同步服务器文件至百度网盘</p>

  </section>
  
<script type="text/javascript">
      var disqus_shortname = 'yuanyuan';
      var disqus_identifier = 'urn:uuid:01d495e0-4b37-435b-a2c8-78ac4d9c7fb8';

      function leave_comment() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          $("#leave_comment_link").css("display", "none");
          $("#collapse_comment_link").css("display", "");
      };
      function collapse_comment() {
          // document.getElementById("disqus_thread").innerHTML = '';
          $("#disqus_thread").slideUp(400, function() {
              $("#disqus_thread").empty();
              $("#leave_comment_link").css("display", "");
              $("#collapse_comment_link").css("display", "none");
              $("#disqus_thread").css("display", "");
          });
      };
  </script>

  <div class="divider">
    <span>
    
    <a href="/2018/11/20/python%E5%AD%A6%E4%B8%8D%E8%BF%9B%E5%8E%BB%E5%A5%BD%E7%97%9B%E8%8B%A6.html"><i class="fa fa-chevron-left"></i></a>
    
    </span>
    
    <span><a href="javascript:leave_comment();" id="leave_comment_link"><i class="fa fa-comment-o"></i></a></span>
    <span><a href="javascript:collapse_comment();" id="collapse_comment_link" style="display:none;"><i class="fa fa-chevron-up"></i></a></span>
   

    <span>
    
    <a href="/2018/11/24/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E7%88%AC%E8%99%AB.html"><i class="fa fa-chevron-right"></i></a>
    
    </span>
  </div>
  <section class="comment">
  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </section>
  
</article>
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?9c651515b864fe89150625c30c3dce34";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
        </div>
        <footer>
          <div>
            
            &copy; 2017 ~ 2018 chwhsen | 阿远心之所向 吾辈剑之所指<p/>豫ICP备18039279号
          </div>
		  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?9c651515b864fe89150625c30c3dce34";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
        </footer>
      </div> <!-- main -->
  </body>
</html>

